{"version":3,"sources":["webpack:///./src/pages/home.js","webpack:///./src/images/search.svg"],"names":["HomePage","useState","time","setTime","useEffect","customSeconds","query","queryString","parse","document","location","search","customData","JSON","localStorage","getItem","startExercise","frequency","work","navigate","createRandom","Math","floor","random","timer","Timer","start","countdown","startValues","seconds","addEventListener","e","getTimeValues","toString","className","id","src","alt","onClick","preventDefault","module","exports"],"mappings":"2FAAA,0HA8EeA,UAtEE,WAAO,IAAD,EACGC,mBAAS,MAA1BC,EADc,KACRC,EADQ,KA+CrB,OAnCAC,qBAAU,WACR,IACIC,EADAC,EAAQC,IAAYC,MAAMC,SAASC,SAASC,QAEhD,GAAIL,GAASA,EAAMM,WAAY,CAC7B,IAAIA,EAAaC,KAAKL,MAAMM,aAAaC,QAAQ,eAC7CH,EAAWI,cAAgBJ,EAAWK,WAAaL,EAAWM,KAChEb,EAAgB,KAAOO,EAAU,UAEjCO,mBAAS,KAGTb,GAASA,EAAMc,eAEjBf,EAAgB,IADMgB,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,KAIzD,IAAMC,EAAQ,IAAIC,QAElBD,EAAME,MAAM,CACVC,WAAW,EACXC,YAAa,CAAEC,QAASxB,GAAgC,MAG1DmB,EAAMM,iBAAiB,kBAAkB,SAASC,GAChD5B,EAAQqB,EAAMQ,gBAAgBC,eAGhCT,EAAMM,iBAAiB,kBAAkB,SAASC,GAChD5B,EAAQ,MACJG,GAASA,EAAMM,WACjBO,mBAAS,6BACJA,mBAAS,kBAEjB,IAGD,oCACE,kBAAC,IAAD,MACA,yBAAKe,UAAU,cAAcC,GAAG,UAC9B,yBAAKD,UAAU,gBACb,yBAAKE,IAAKzB,IAAQuB,UAAU,WAAWG,IAAI,MAE7C,yBAAKH,UAAU,kBACb,mEAEF,yBAAKA,UAAU,cACb,yBAAKA,UAAU,SACb,wBAAIC,GAAG,aAAajC,IAEtB,yBAAKgC,UAAU,cAAcI,QA1Db,SAAAP,GACtBA,EAAEQ,iBAEF,IAAIjC,EAAQC,IAAYC,MAAMC,SAASC,SAASC,QAC5CL,GAASA,EAAMM,WACjBO,mBAAS,6BACJA,mBAAS,eAqDR,0C,qBCtEZqB,EAAOC,QAAU,IAA0B","file":"component---src-pages-home-js-0acfb5ef9700a30e9dc2.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { navigate } from 'gatsby';\nimport { Timer } from 'easytimer.js';\nimport NavBar from '../components/navbar';\nimport search from '../images/search.svg';\nimport './index.css';\nimport queryString from 'query-string';\n\nconst HomePage = () => {\n  const [time, setTime] = useState(null);\n\n  const handleSkipTimer = e => {\n    e.preventDefault();\n\n    let query = queryString.parse(document.location.search);\n    if (query && query.customData) {\n      navigate('/exercise?customData=true');\n    } else navigate('/exercise');\n  };\n\n  useEffect(() => {\n    let query = queryString.parse(document.location.search);\n    let customSeconds;\n    if (query && query.customData) {\n      let customData = JSON.parse(localStorage.getItem('customData'));\n      if (customData.startExercise * customData.frequency <= customData.work) {\n        customSeconds = 3600 * customData['frequency'];\n      } else {\n        navigate('/');\n      }\n    }\n    if (query && query.createRandom) {\n      const randomMinutes = Math.floor(Math.random() * 21) + 40;\n      customSeconds = 60 * randomMinutes;\n    }\n\n    const timer = new Timer();\n\n    timer.start({\n      countdown: true,\n      startValues: { seconds: customSeconds ? customSeconds : 10 }\n    });\n\n    timer.addEventListener('secondsUpdated', function(e) {\n      setTime(timer.getTimeValues().toString());\n    });\n\n    timer.addEventListener('targetAchieved', function(e) {\n      setTime(null);\n      if (query && query.customData) {\n        navigate('/exercise?customData=true');\n      } else navigate('/exercise');\n    });\n  }, []);\n\n  return (\n    <>\n      <NavBar />\n      <div className=\"search-area\" id=\"search\">\n        <div className=\"search-image\">\n          <img src={search} className=\"floating\" alt=\"\" />\n        </div>\n        <div className=\"search-message\">\n          <h2>Finding Best Excercises for you...</h2>\n        </div>\n        <div className=\"skip-timer\">\n          <div className=\"timer\">\n            <h1 id=\"timeClock\">{time}</h1>\n          </div>\n          <div className=\"skip-button\" onClick={handleSkipTimer}>\n            <h1>Skip</h1>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default HomePage;\n","module.exports = __webpack_public_path__ + \"static/search-2c7f505b3d62eea7176f5e6721f3ae57.svg\";"],"sourceRoot":""}